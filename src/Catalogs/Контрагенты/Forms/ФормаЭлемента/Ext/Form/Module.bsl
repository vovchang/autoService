&НаКлиенте
Процедура ПриОткрытии(Отказ)
	
	УстановитьВидимостьИЗаголовок();
	
КонецПроцедуры

&НаКлиенте
Процедура ТипКонтрагентаПриИзменении(Элемент)
			
	УстановитьВидимостьИЗаголовок();
		
КонецПроцедуры

&НаКлиенте 
Процедура УстановитьВидимостьИЗаголовок()
	
	ЭтоПоставщик = (Объект.ТипКонтрагента = ПредопределенноеЗначение("Перечисление.ТипыКонтрагентов.Поставщик"));
	ЭтоПокупатель = (Объект.ТипКонтрагента = ПредопределенноеЗначение("Перечисление.ТипыКонтрагентов.Покупатель"));
	
	Элементы.Договор.Видимость = ЭтоПоставщик;
	Элементы.ДатаРожденияКлиента.Видимость = ЭтоПокупатель;
	Элементы.ПолКлиента.Видимость = ЭтоПокупатель;
	
	Если ЭтоПокупатель Тогда
		Элементы.Наименование.Заголовок = "ФИО";		
	Иначе		
		Элементы.Наименование.Заголовок = "Наименование";		
	КонецЕсли;

КонецПроцедуры 

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если Не ЗначениеЗаполнено(Объект.Ссылка) Тогда
		ЗаполнитьТипКонтрагентаПоРодителю();
	КонецЕсли;
	
КонецПроцедуры

&НаСервере 
Процедура ЗаполнитьТипКонтрагентаПоРодителю()
	
	Если ЗначениеЗаполнено(Объект.Родитель) Тогда
		Объект.ТипКонтрагента = Объект.Родитель.ТипКонтрагента;
	КонецЕсли;
	
КонецПроцедуры







